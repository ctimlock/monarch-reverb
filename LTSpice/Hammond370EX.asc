Version 4
SHEET 1 1428 680
WIRE 16 -80 0 -80
WIRE 112 -80 16 -80
WIRE 208 -80 112 -80
WIRE -384 -16 -624 -16
WIRE -128 -16 -384 -16
WIRE -112 -16 -128 -16
WIRE 112 0 0 0
WIRE 144 0 112 0
WIRE -272 48 -320 48
WIRE -112 64 -192 64
WIRE -272 80 -352 80
WIRE 112 80 0 80
WIRE 144 80 112 80
WIRE -320 128 -320 48
WIRE -272 128 -320 128
WIRE -624 144 -624 -16
WIRE -128 144 -192 144
WIRE -112 144 -128 144
WIRE -384 160 -384 -16
WIRE -272 160 -384 160
WIRE 16 176 0 176
WIRE 112 176 16 176
WIRE 208 176 112 176
WIRE -352 224 -352 80
WIRE -352 224 -624 224
WIRE -112 224 -352 224
WIRE 112 256 0 256
WIRE 144 256 112 256
WIRE -624 320 -624 224
WIRE 16 352 0 352
WIRE 112 352 16 352
WIRE 208 352 112 352
WIRE 112 432 0 432
WIRE 144 432 112 432
WIRE 112 512 0 512
WIRE 144 512 112 512
FLAG -624 320 0
FLAG -128 -16 P1
FLAG -128 144 P2
FLAG 144 0 0
FLAG 16 -80 302.7V
FLAG 144 256 0
FLAG 16 176 5.558V
FLAG 144 432 0
FLAG 16 352 3.573V
SYMBOL ind2 -128 -32 R0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName P1
SYMATTR Value {PL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={PR}
SYMBOL voltage -624 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -83 35 Left 2
WINDOW 3 -509 104 Left 2
SYMATTR InstName V1
SYMATTR Value sine(0 {voltage*sqrt(2)} {Hz})
SYMBOL ind2 16 -16 M0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName HV2
SYMATTR Value {HVL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={HVR}
SYMBOL ind2 -128 128 R0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName P2
SYMATTR Value {PL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={PR}
SYMBOL dpdt -240 64 R270
SYMATTR InstName U1
SYMATTR Value set={switch}
SYMBOL ind2 16 -96 M0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName HV1
SYMATTR Value {HVL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={HVR}
SYMBOL ind2 16 160 M0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName R1
SYMATTR Value {RL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={RR}
SYMBOL ind2 16 416 M0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName HT2
SYMATTR Value {HTL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={HTR}
SYMBOL ind2 16 336 M0
WINDOW 0 -29 35 Left 2
WINDOW 3 -23 75 Left 2
SYMATTR InstName HT1
SYMATTR Value {HTL}
SYMATTR Type ind
SYMATTR SpiceLine Rser={HTR}
SYMBOL res 96 -96 R0
SYMATTR InstName R2
SYMATTR Value {HVLR}
SYMBOL res 96 160 R0
SYMATTR InstName R6
SYMATTR Value {RLR}
SYMBOL res 96 336 R0
SYMATTR InstName R5
SYMATTR Value {HTLR}
SYMBOL res 96 416 R0
SYMATTR InstName R3
SYMATTR Value {HTLR}
SYMBOL res 96 -16 R0
SYMATTR InstName R4
SYMATTR Value {HVLR}
TEXT -1056 24 Left 2 !.param voltage=table(mains, 0, 120, 1, 240)
TEXT -1056 56 Left 2 !.param Hz=table(mains, 0, 60, 1, 50)
TEXT -1056 472 Left 2 !.tran 0 {18/Hz} {14/Hz} {18/Hz/1000000}
TEXT 424 40 Left 2 !.param PV=120 PR=6.0685 PL=2.5\n \n.param HVV=297.6 HVVL=275 HVLI=0.144\n.param RV=5.486 RVL=5 RLI=3\n.param HTV=3.429 HTVL=3.15 HTLI=4\n \n.param HVLR=(HVVL/HVLI)\n.param HVR=if(HVV>PV, (HVV-HVVL)/(2*HVLI), (HVVL*(HVV-HVVL))/(2*HVLI*HVV))\n.param HVTR=HVV/PV HVL=PL*pwr(HVTR, 2)\n \n.param RLR=(RVL/RLI)\n.param RR=if(RV>PV, (RV-RVL)/(2*RLI), (RVL*(RV-RVL))/(2*RLI*RV))\n.param RTR=RV/PV RL=PL*pwr(RTR, 2)\n \n.param HTLR=(HTVL/HTLI)\n.param HTR=if(HTV>PV, (HTV-HTVL)/(2*HTLI), (HTVL*(HTV-HTVL))/(2*HTLI*HTV))\n.param HTTR=HTV/PV HTL=PL*pwr(HTTR, 2)
TEXT -1056 88 Left 2 !.param switch=table(mains, 0, 0, 1, 1)
TEXT -1056 512 Left 2 !;tran 0 1 0
TEXT -1056 -88 Left 2 !;step param mains list 0 1
TEXT -1056 -120 Left 2 !.param mains=1
TEXT -224 -280 Left 2 !K1 P1 P2 HV1 HV2 R1 HT1 HT2 .99
TEXT 376 -688 Left 2 !.meas HVUnloaded RMS V(302.7V)
TEXT 376 -648 Left 2 !.meas RectoUnloaded RMS V(5.558V)
TEXT 376 -608 Left 2 !.meas HeaterUnloaded RMS V(3.573V)
